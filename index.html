<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>AdigaFX Trade Journal</title>

  <link rel="icon" href="adigafx_icon.png"/>
  <link rel="stylesheet" href="styles.css?v=20"/>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>

<body>
<div class="app">

  <!-- HEADER -->
  <header class="top">
    <div class="brand">
      <img src="adigafx_logo_128.png" class="logo" alt="AdigaFX"/>
      <div>
        <div class="title">AdigaFX</div>
        <div class="subtitle">XAUUSD ‚Ä¢ Local Journal</div>
      </div>
    </div>
  </header>

  <!-- TABS -->
  <nav class="tabs">
    <button class="tab active" data-route="dash" type="button">Home</button>
    <button class="tab" data-route="check" type="button">Checklist</button>
    <button class="tab" data-route="new" type="button">New</button>
    <button class="tab" data-route="close" type="button">Close</button>
    <button class="tab" data-route="review" type="button">Review</button>
    <button class="tab" data-route="all" type="button">All</button>
    <button class="tab" data-route="edit" type="button">Edit</button>
  </nav>

  <!-- DASH -->
  <section class="screen active" id="screen-dash">
    <div class="panel">
      <div class="panelTitle">Recent trades</div>
      <div id="tradesList" class="list"></div>
    </div>
  </section>

  <!-- CHECKLIST -->
  <section class="screen" id="screen-check">
    <div class="panel">
      <div class="panelTitle">Pre-Trade Checklist (optional)</div>

      <div class="form">
        <div class="row">
          <label>Direction</label>
          <div class="seg" id="cDirSeg">
            <button class="segBtn active" type="button" data-dir="LONG">LONG</button>
            <button class="segBtn" type="button" data-dir="SHORT">SHORT</button>
          </div>
        </div>

        <div class="grid2">
          <div class="row">
            <label>Date</label>
            <input id="cDate" type="date"/>
          </div>
          <div class="row">
            <label>Session</label>
            <select id="cSession">
              <option value="">‚Äî</option>
              <option value="Asia">Asia</option>
              <option value="London">London</option>
              <option value="NY">NY</option>
            </select>
          </div>
        </div>

        <div class="grid2">
          <div class="row">
            <label>Entry</label>
            <input id="cEntry" type="number" step="0.01" placeholder="2356.20"/>
          </div>
          <div class="row">
            <label>Stop Loss</label>
            <input id="cSL" type="number" step="0.01" placeholder="2350.80"/>
          </div>
        </div>

        <div class="grid2">
          <div class="row">
            <label>Lot</label>
            <input id="cLot" type="number" step="0.01" placeholder="0.10"/>
          </div>
          <div class="row">
            <label>TP (optional)</label>
            <input id="cTP" type="number" step="0.01" placeholder="2368.00"/>
          </div>
        </div>

        <div class="row">
          <div class="kv"><span class="k">Risk $ (approx):</span> <span class="v" id="cRiskUsd">$0.00</span></div>
        </div>

        <div class="row maeBox">
          <div class="maeTitle">Checklist (not required)</div>

          <div style="margin-top:8px;">
            <label><input type="checkbox" class="cBox"/> Trend aligned (HTF)</label><br/>
            <label><input type="checkbox" class="cBox"/> Key level / POI</label><br/>
            <label><input type="checkbox" class="cBox"/> Entry confirmation</label><br/>
            <label><input type="checkbox" class="cBox"/> RR is acceptable</label><br/>
            <label><input type="checkbox" class="cBox"/> News checked</label><br/>
            <label><input type="checkbox" class="cBox"/> Mindset OK</label>
          </div>

          <div class="row" style="margin-top:10px;">
            <label>Notes (optional)</label>
            <textarea id="cNotes" rows="3" placeholder="Why this trade?"></textarea>
          </div>

          <button class="btn" id="cAddTradeBtn" type="button">‚úÖ Add OPEN trade</button>
        </div>
      </div>
    </div>
  </section>

  <!-- NEW -->
  <section class="screen" id="screen-new">
    <div class="panel">
      <div class="panelTitle">New Trade</div>

      <div class="form">
        <div class="row">
          <label>Direction</label>
          <div class="seg" id="dirSeg">
            <button class="segBtn active" type="button" data-dir="LONG">LONG</button>
            <button class="segBtn" type="button" data-dir="SHORT">SHORT</button>
          </div>
        </div>

        <div class="grid2">
          <div class="row">
            <label>Date</label>
            <input id="fDate" type="date"/>
          </div>
          <div class="row">
            <label>Session</label>
            <select id="fSession">
              <option value="">‚Äî</option>
              <option value="Asia">Asia</option>
              <option value="London">London</option>
              <option value="NY">NY</option>
            </select>
          </div>
        </div>

        <div class="grid2">
          <div class="row">
            <label>Entry</label>
            <input id="fEntry" type="number" step="0.01"/>
          </div>
          <div class="row">
            <label>Stop Loss</label>
            <input id="fSL" type="number" step="0.01"/>
          </div>
        </div>

        <div class="grid2">
          <div class="row">
            <label>TP (optional)</label>
            <input id="fTP" type="number" step="0.01"/>
          </div>
          <div class="row">
            <label>Lot</label>
            <input id="fLot" type="number" step="0.01"/>
          </div>
        </div>

        <div class="grid2">
          <div class="row">
            <label>Exit (optional)</label>
            <input id="fExit" type="number" step="0.01"/>
          </div>
          <div class="row">
            <label>PnL ($) (optional)</label>
            <input id="fPnl" type="number" step="0.01"/>
          </div>
        </div>

        <div class="row">
          <div class="kv"><span class="k">Risk $:</span> <span class="v" id="riskUsd">$0.00</span></div>
          <div class="kv"><span class="k">R preview:</span> <span class="v" id="rMultiple">0.00R</span></div>
        </div>

        <div class="row">
          <label>Strategy / Tags</label>
          <input id="fStrategy" placeholder="e.g. BOS + FVG"/>
        </div>

        <div class="row">
          <label>Notes</label>
          <textarea id="fNotes" rows="3"></textarea>
        </div>

        <button class="btn" id="saveTradeBtn" type="button">‚úÖ Save</button>
      </div>
    </div>
  </section>

  <!-- CLOSE -->
  <section class="screen" id="screen-close">
    <div class="panel">
      <div class="panelTitle">Close Trade</div>

      <button class="btn ghost" id="closePickBtn" type="button">Tap to choose OPEN trade‚Ä¶</button>
      <div class="kv" id="closeMeta"></div>

      <div class="grid2" style="margin-top:10px;">
        <div class="row">
          <label>Exit price</label>
          <input id="closeExit" type="number" step="0.01"/>
        </div>
        <div class="row">
          <label>PnL ($) (if no exit)</label>
          <input id="closePnl" type="number" step="0.01"/>
        </div>
      </div>

      <div class="maeBox" style="margin-top:12px;">
        <div class="maeTitle">MAE / MFE</div>
        <div class="maeText">
          <b>MAE</b> = worst against you (max adverse). <b>MFE</b> = best for you (max favorable).
        </div>
        <div class="maeArt">
          LONG: MAE = <span class="red">lowest</span> ‚Ä¢ MFE = <span class="green">highest</span><br/>
          SHORT: MAE = <span class="red">highest</span> ‚Ä¢ MFE = <span class="green">lowest</span>
        </div>

        <div class="grid2" style="margin-top:10px;">
          <div class="row">
            <label>MAE price (worst)</label>
            <input id="closeMAE" type="number" step="0.01"/>
            <div class="kv"><span class="k">MAE $:</span> <span class="v" id="closeMAEUsd">$0.00</span></div>
          </div>
          <div class="row">
            <label>MFE price (best)</label>
            <input id="closeMFE" type="number" step="0.01"/>
            <div class="kv"><span class="k">MFE $:</span> <span class="v" id="closeMFEUsd">$0.00</span></div>
          </div>
        </div>

        <div class="kv" style="margin-top:10px;"><span class="k">R result:</span> <span class="v" id="closeR">0.00R</span></div>
      </div>

      <button class="btn" id="closeTradeBtn" type="button" style="margin-top:12px;">üèÅ Close & Save</button>
    </div>
  </section>

  <!-- REVIEW -->
  <section class="screen" id="screen-review">
    <div class="panel">
      <div class="panelTitle">Review Trade</div>

      <button class="btn ghost" id="reviewPickBtn" type="button">Tap to choose trade‚Ä¶</button>
      <div class="kv" id="reviewMeta"></div>

      <div class="form" style="margin-top:10px;">
        <div class="row">
          <label>Followed plan?</label>
          <select id="rPlan">
            <option value="YES">YES</option>
            <option value="NO">NO</option>
          </select>
        </div>

        <div class="row">
          <label>Mistake (optional)</label>
          <input id="rMistake" placeholder="e.g. entered early / moved SL"/>
        </div>

        <div class="row">
          <label>Review notes</label>
          <textarea id="rReviewNotes" rows="4"></textarea>
        </div>

        <button class="btn" id="saveReviewBtn" type="button">üíæ Save review</button>
      </div>
    </div>
  </section>

  <!-- ALL -->
  <section class="screen" id="screen-all">
    <div class="panel">
      <div class="panelTitle">All Trades</div>
      <div id="allTradesList" class="list"></div>
    </div>
  </section>

  <!-- EDIT -->
  <section class="screen" id="screen-edit">
    <div class="panel">
      <div class="panelTitle">Edit Trade</div>

      <button class="btn ghost" id="editPickBtn" type="button">Tap to choose trade‚Ä¶</button>
      <div class="kv" id="editMeta"></div>

      <div class="form" style="margin-top:10px;">
        <div class="row">
          <label>Status</label>
          <select id="eStatus">
            <option value="OPEN">OPEN</option>
            <option value="CLOSED">CLOSED</option>
          </select>
        </div>

        <div class="row">
          <label>Direction</label>
          <div class="seg" id="eDirSeg">
            <button class="segBtn active" type="button" data-dir="LONG">LONG</button>
            <button class="segBtn" type="button" data-dir="SHORT">SHORT</button>
          </div>
        </div>

        <div class="grid2">
          <div class="row">
            <label>Date</label>
            <input id="eDate" type="date"/>
          </div>
          <div class="row">
            <label>Session</label>
            <select id="eSession">
              <option value="">‚Äî</option>
              <option value="Asia">Asia</option>
              <option value="London">London</option>
              <option value="NY">NY</option>
            </select>
          </div>
        </div>

        <div class="grid2">
          <div class="row">
            <label>Entry</label>
            <input id="eEntry" type="number" step="0.01"/>
          </div>
          <div class="row">
            <label>Stop Loss</label>
            <input id="eSL" type="number" step="0.01"/>
          </div>
        </div>

        <div class="grid2">
          <div class="row">
            <label>TP</label>
            <input id="eTP" type="number" step="0.01"/>
          </div>
          <div class="row">
            <label>Lot</label>
            <input id="eLot" type="number" step="0.01"/>
          </div>
        </div>

        <div class="grid2">
          <div class="row">
            <label>Exit</label>
            <input id="eExit" type="number" step="0.01"/>
          </div>
          <div class="row">
            <label>PnL (if no exit)</label>
            <input id="ePnl" type="number" step="0.01"/>
          </div>
        </div>

        <div class="maeBox">
          <div class="maeTitle">MAE / MFE</div>
          <div class="maeText">MAE = worst against you ‚Ä¢ MFE = best for you</div>
          <div class="maeArt">
            LONG: MAE <span class="red">lowest</span> ‚Ä¢ MFE <span class="green">highest</span><br/>
            SHORT: MAE <span class="red">highest</span> ‚Ä¢ MFE <span class="green">lowest</span>
          </div>

          <div class="grid2" style="margin-top:10px;">
            <div class="row">
              <label>MAE price (worst)</label>
              <input id="eMAE" type="number" step="0.01"/>
              <div class="kv"><span class="k">MAE $:</span> <span class="v" id="eMAEUsd">$0.00</span></div>
            </div>
            <div class="row">
              <label>MFE price (best)</label>
              <input id="eMFE" type="number" step="0.01"/>
              <div class="kv"><span class="k">MFE $:</span> <span class="v" id="eMFEUsd">$0.00</span></div>
            </div>
          </div>

          <div class="kv" style="margin-top:10px;"><span class="k">Risk $:</span> <span class="v" id="eRisk">$0.00</span></div>
          <div class="kv"><span class="k">R:</span> <span class="v" id="eR">0.00R</span></div>
        </div>

        <div class="row">
          <label>Strategy</label>
          <input id="eStrategy"/>
        </div>

        <div class="row">
          <label>Notes</label>
          <textarea id="eNotes" rows="4"></textarea>
        </div>

        <button class="btn" id="saveEditBtn" type="button">üíæ Save changes</button>
      </div>
    </div>
  </section>

</div>

<script src="app.js?v=20"></script>
</body>
</html>
